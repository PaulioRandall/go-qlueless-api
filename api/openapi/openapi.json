{
	"openapi": "3.0.2",
	"info": {
		"title": "Go Qlueless Assembly API",
		"version": "0.0.1"
	},
	"paths": {
		"/orders": {
		  "get": {
		    "description": "Returns all orders.",
		    "parameters": [
		      {
		        "$ref": "#/components/parameters/meta"
		      }
		    ],
		    "responses": {
		      "200": {
		        "$ref": "#/components/responses/orders_200"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  }
		},
		"/order": {
		  "post": {
		    "description": "Creates a new order.",
		    "requestBody": {
		      "$ref": "#/components/requestBodies/new_order"
		    },
		    "responses": {
		      "201": {
		        "$ref": "#/components/responses/order_201"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  }
		},
		"/orders/{order_id}": {
		  "get": {
		    "description": "Returns a single orders.",
		    "parameters": [
		      {
		        "$ref": "#/components/parameters/order_id"
		      },
		      {
		        "$ref": "#/components/parameters/meta"
		      }
		    ],
		    "responses": {
		      "200": {
		        "$ref": "#/components/responses/order_200"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  }
		},
		"/batches": {
		  "get": {
		    "description": "Returns all batches.",
		    "parameters": [
		      {
		        "$ref": "#/components/parameters/meta"
		      }
		    ],
		    "responses": {
		      "200": {
		        "$ref": "#/components/responses/batches_200"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  },
		  "post": {
		    "description": "Creates a new batch.",
		    "requestBody": {
		      "$ref": "#/components/requestBodies/new_batch"
		    },
		    "responses": {
		      "201": {
		        "$ref": "#/components/responses/batch_201"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  }
		},
		"/batches/{batch_id}": {
		  "get": {
		    "description": "Returns a single batch.",
		    "parameters": [
		      {
		        "$ref": "#/components/parameters/batch_id"
		      },
		      {
		        "$ref": "#/components/parameters/meta"
		      }
		    ],
		    "responses": {
		      "200": {
		        "$ref": "#/components/responses/batch_200"
		      },
		      "default": {
		        "$ref": "#/components/responses/error"
		      }
		    }
		  }
		}
  },
	"components": {
    "parameters": {
			"order_id": {
			  "name": "order_id",
			  "in": "path",
			  "description": "Unique identifier of an order",
			  "required": true,
			  "schema": {
			    "type": "string"
			  }
			},
			"batch_id": {
			  "name": "batch_id",
			  "in": "path",
			  "description": "Unique identifier of a batch",
			  "required": true,
			  "schema": {
			    "type": "string"
			  }
			},
			"meta": {
			  "name": "meta",
			  "in": "query",
			  "description": "If present wraps the response and includes meta information within the response.",
			  "required": false,
			  "schema": {
			    "type": "string"
			  }
			}
    },
    "requestBodies": {
			"new_order": {
			  "content": {
			    "application/json": {
			      "schema": {
			        "$ref": "#/components/schemas/new_order"
			      }
			    }
			  }
			},
			"new_batch": {
			  "content": {
			    "application/json": {
			      "schema": {
			        "$ref": "#/components/schemas/new_batch"
			      }
			    }
			  }
			}
    },
    "responses": {
			"orders_200": {
			  "description": "List of orders.",
			  "content": {
			    "application/json": {
			      "schema": {
			        "oneOf": [
			          {
			            "$ref": "#/components/x-hidden/orders_wrapped"
			          },
			          {
			            "$ref": "#/components/x-hidden/orders_array"
			          }
			        ]
			      }
			    }
			  }
			},
			"order_200": {
			  "description": "Single order",
			  "content": {
			    "application/json": {
			      "schema": {
			        "oneOf": [
			          {
			            "$ref": "#/components/x-hidden/order_wrapped"
			          },
			          {
			            "$ref": "#/components/schemas/order"
			          }
			        ]
			      }
			    }
			  }
			},
			"order_201": {
			  "description": "Single order",
			  "content": {
			    "application/json": {
			      "schema": {
			        "$ref": "#/components/schemas/order"
			      }
			    }
			  }
			},
			"batches_200": {
			  "description": "List of batches.",
			  "content": {
			    "application/json": {
			      "schema": {
			        "oneOf": [
			          {
			            "$ref": "#/components/x-hidden/batches_wrapped"
			          },
			          {
			            "$ref": "#/components/x-hidden/batches_array"
			          }
			        ]
			      }
			    }
			  }
			},
			"batch_200": {
			  "description": "Single batch.",
			  "content": {
			    "application/json": {
			      "schema": {
			        "oneOf": [
			          {
			            "$ref": "#/components/x-hidden/batch_wrapped"
			          },
			          {
			            "$ref": "#/components/schemas/batch"
			          }
			        ]
			      }
			    }
			  }
			},
			"batch_201": {
			  "description": "Single batch.",
			  "content": {
			    "application/json": {
			      "schema": {
			        "$ref": "#/components/schemas/batch"
			      }
			    }
			  }
			},
			"error": {
			  "description": "Client or service error.",
			  "content": {
			    "application/json": {
			      "schema": {
			        "$ref": "#/components/schemas/error"
			      }
			    }
			  }
			}
    },
		"schemas": {
			"new_order": {
			  "type": "object",
			  "properties": {
			    "description": {
			      "$ref": "#/components/x-hidden/description"
			    },
			    "thing_state": {
			      "$ref": "#/components/x-hidden/thing_state"
			    },
			    "additional": {
			      "$ref": "#/components/x-hidden/additional"
			    }
			  }
			},
			"order": {
			  "type": "object",
			  "properties": {
			    "description": {
			      "$ref": "#/components/x-hidden/description"
			    },
			    "thing_id": {
			      "$ref": "#/components/x-hidden/thing_id"
			    },
			    "thing_state": {
			      "$ref": "#/components/x-hidden/thing_state"
			    },
			    "additional": {
			      "$ref": "#/components/x-hidden/additional"
			    }
			  }
			},
			"new_batch": {
			  "type": "object",
			  "properties": {
			    "description": {
			      "$ref": "#/components/x-hidden/description"
			    },
			    "parent_thing_id": {
			      "$ref": "#/components/x-hidden/parent_thing_id"
			    },
			    "thing_state": {
			      "$ref": "#/components/x-hidden/thing_state"
			    },
			    "additional": {
			      "$ref": "#/components/x-hidden/additional"
			    }
			  }
			},
			"batch": {
			  "type": "object",
			  "properties": {
			    "description": {
			      "$ref": "#/components/x-hidden/description"
			    },
			    "thing_id": {
			      "$ref": "#/components/x-hidden/thing_id"
			    },
			    "parent_thing_id": {
			      "$ref": "#/components/x-hidden/parent_thing_id"
			    },
			    "thing_state": {
			      "$ref": "#/components/x-hidden/thing_state"
			    },
			    "additional": {
			      "$ref": "#/components/x-hidden/additional"
			    }
			  }
			},
			"error": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    }
			  }
			},
			"wrapped_response": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    },
			    "data": {
			      "description": "The wrapped response data; should be identical to the response returned by the same request without the `meta` parameter"
			    }
			  }
			}
    },
    "x-hidden": {
			"orders_wrapped": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    },
			    "data": {
			      "$ref": "#/components/x-hidden/orders_array"
			    }
			  }
			},
			"orders_array": {
			  "type": "array",
			  "items": {
			    "$ref": "#/components/schemas/order"
			  }
			},
			"order_wrapped": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    },
			    "data": {
			      "$ref": "#/components/schemas/order"
			    }
			  }
			},
			"batches_wrapped": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    },
			    "data": {
			      "$ref": "#/components/x-hidden/batches_array"
			    }
			  }
			},
			"batches_array": {
			  "type": "array",
			  "items": {
			    "$ref": "#/components/schemas/batch"
			  }
			},
			"batch_wrapped": {
			  "type": "object",
			  "properties": {
			    "message": {
			      "$ref": "#/components/x-hidden/message"
			    },
			    "self": {
			      "$ref": "#/components/x-hidden/self"
			    },
			    "data": {
			      "$ref": "#/components/schemas/batch"
			    }
			  }
			},
			"message": {
			  "type": "string",
			  "description": "Human readable summary of the response in a form presentable to end users."
			},
			"self": {
			  "type": "string",
			  "description": "Full path of the URL that made the request."
			},
			"description": {
			  "type": "string",
			  "description": "Presentable and human readable description of the entity instance."
			},
			"thing_id": {
			  "type": "string",
			  "description": "Unique identifier of the thing."
			},
			"parent_thing_id": {
			  "type": "string",
			  "description": "Unique identifier of the things parent."
			},
			"thing_state": {
			  "type": "string",
			  "description": "State of a thing."
			},
			"additional": {
			  "type": "string",
			  "description": "Semicolon ';' separated list of additional attributes managed by clients. Each property is a key value pair using a colon ':' as the delimiter, i.e. 'key: value'."
			}
    }
	}
}
